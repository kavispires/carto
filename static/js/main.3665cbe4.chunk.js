(window.webpackJsonpcarto=window.webpackJsonpcarto||[]).push([[0],{13:function(e,t,a){e.exports=a(21)},18:function(e,t,a){},21:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(5),s=a.n(o),l=(a(18),a(3)),c=a(2),i=a(6),u=a(7),m=a(12),d=a(8),p=a(1),f=a(11),b=a(9),h=a.n(b),y={EXPLORE_CARDS:[{number:5,name:"Temple Ruins",type:"ruin",duration:0},{number:6,name:"Outpost Ruins",type:"ruin",duration:0},{number:7,name:"Great River",type:"explore",duration:1},{number:8,name:"Farmland",type:"explore",duration:1},{number:9,name:"Hamlet",type:"explore",duration:1},{number:10,name:"Forgotten Forest",type:"explore",duration:1},{number:11,name:"Hinterland Stream",type:"explore",duration:2},{number:12,name:"Homestead",type:"explore",duration:2},{number:13,name:"Orchard",type:"explore",duration:2},{number:14,name:"Treetop Village",type:"explore",duration:2},{number:15,name:"Marshlands",type:"explore",duration:2},{number:16,name:"Fishing Village",type:"explore",duration:2},{number:17,name:"Rift Lands",type:"explore",duration:0}],AMBUSH_CARDS:[{number:1,name:"Goblin Attack",type:"ambush",duration:0},{number:2,name:"Bugbear Assault",type:"ambush",duration:0},{number:3,name:"Kobold Onslaught",type:"ambush",duration:0},{number:4,name:"Gnoll Raid",type:"ambush",duration:0}],SEASON_CARDS:[{number:18,name:"Spring",scores:"A B",duration:8},{number:19,name:"Summber",scores:"B C",duration:8},{number:20,name:"Fall",scores:"C D",duration:7},{number:21,name:"Winter",scores:"D A",duration:6}],GOAL_CARDS:[{number:26,name:"Sentinel Wood",type:"forests",effect:"1 point for each forest space adjacent to the edge of the map"},{number:27,name:"Greenbough",type:"forests",effect:"1 point per column or row with at least one forest space (both column and row score)"},{number:28,name:"Treetower",type:"forests",effect:"1 point per forest space with all four spaces surrounded by filled spaces"},{number:29,name:"Sentinel Wood",type:"forests",effect:"3 points for each mountain connected by a cluster of forest spaces"},{number:30,name:"Canal Lake",type:"farmlands",effect:"1 point per water space adjacent to a farm space. 1 point per farm space adjacent to a water space"},{number:31,name:"Mages Valley",type:"farmlands",effect:"2 points per water space adjacent to a mountain. 1 point per farm space adjacent to a mountain."},{number:32,name:"The Golden Granary",type:"farmlands",effect:"1 point per water space adjacent to a ruin space. 3 points per farm space on a ruin space"},{number:33,name:"Shoreside Expanse",type:"farmlands",effect:"3 points per cluster of farm not adjacent to water spaces or the edge of the map. 3 points per cluster of water not adjacent to farm spaces or the edge of the map"},{number:34,name:"Wildholds",type:"villages",effect:"8 points per cluster of 6 or more village spaces"},{number:35,name:"Great City",type:"villages",effect:"1 point per village space in your largest village cluster that is not adjacent to mountain spaces"},{number:36,name:"Greengold Plains",type:"villages",effect:"3 points for each cluster of village spaces that is adjacent to three or more different terrain types"},{number:37,name:"Shieldgate",type:"villages",effect:"2 points per village space in your second largest village cluster"},{number:38,name:"Borderlands",type:"territory",effect:"6 points per each completely filled row or column"},{number:39,name:"Last Barony",type:"territory",effect:"3 points for each column in your largest square of filled spaces"},{number:40,name:"The Broken Road",type:"territory",effect:"3 points for each diagonal line of filled spaces that touches that left and bottom edges of the map"},{number:41,name:"The Cauldrons",type:"territory",effect:"1 point per empty space surrounded on all four sides by filled spaces or the edge of the map"}],LETTER_CARDS:[{number:22,letter:"A"},{number:23,letter:"B"},{number:24,letter:"C"},{number:25,letter:"D"}]},g=function(e){var t=e.menuAction,a=e.children;return r.a.createElement("div",{className:"container"},r.a.createElement("nav",{className:"menu",onClick:t},r.a.createElement("button",{className:"btn-menu",id:"goals"},"Goals"),r.a.createElement("button",{className:"btn-menu",id:"game"},"Game"),r.a.createElement("button",{className:"btn-menu btn-menu--left",id:"reset"},"Reset")),a)},v=a(10),C=function(e){var t=e.id,a=e.className;return r.a.createElement("img",{className:a||"card",src:"".concat("/carto","/images/card_").concat(t,".jpg"),alt:t})},O={farmlands:"card_farmlands-icon",forests:"card_forests-icon",territory:"card_territory-icon",villages:"card_villages-icon"},E=function(e){var t=e.goalType,a=e.isGoalsReady,n=e.letterCard,o=e.selectGoalCard,s=e.selectedGoalCard,l=e.selectRandomGoalCard;return r.a.createElement("div",{className:"goal-options"},Boolean(s)?r.a.createElement("div",{className:"card-container"},r.a.createElement(C,{id:n.number,className:"card-mini"}),r.a.createElement(C,{id:O[t],className:"card-icon"}),r.a.createElement(C,{id:s.number})):r.a.createElement(C,{id:n.number}),r.a.createElement("div",{className:"select"},r.a.createElement("select",{onChange:function(e){return o(e.target.value,n.letter)},defaultValue:""},r.a.createElement("option",{value:"",disabled:!0},"Select a Goal"),y.GOAL_CARDS.map(function(e){return r.a.createElement("option",{key:e.number,value:e.number,disabled:t&&e.type!==t},e.name," (",e.type,")")})),r.a.createElement("div",{className:"select-arrow"})),r.a.createElement("button",{className:"btn btn--secondary btn--wide",onClick:function(){return l(n.letter)},disabled:a},"Random"))},G=function(e){var t=e.selectGoalCard,a=e.selectRandomGoalCard,n=e.state,o=e.switchTabs;return r.a.createElement("main",null,r.a.createElement("h1",{className:"title"},"Select Goals"),r.a.createElement("ul",{className:"goals-selection"},Object.entries(n.goals).map(function(e,o){var s=Object(v.a)(e,2),l=s[0],c=(s[1],y.LETTER_CARDS[o]);return r.a.createElement(E,{key:l,letterCard:c,selectGoalCard:t,selectedGoalCard:n.goals[c.letter],goalType:n.goalsType[c.letter],selectRandomGoalCard:a,isGoalsReady:n.isGoalsReady})})),r.a.createElement("footer",null,r.a.createElement("button",{className:"btn btn--primary",onClick:function(){return o("game")},disabled:!n.isGoalsReady},"Confirm")))};function j(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function R(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?j(a,!0).forEach(function(t){Object(c.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):j(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var w=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(m.a)(this,Object(d.a)(t).call(this))).state={tab:"goals",goals:{A:null,B:null,C:null,D:null},goalsType:{A:null,B:null,C:null,D:null},isGoalsReady:!1},e.switchTabs=e.switchTabs.bind(Object(p.a)(e)),e.selectGoalCard=e.selectGoalCard.bind(Object(p.a)(e)),e.selectRandomGoalCard=e.selectRandomGoalCard.bind(Object(p.a)(e)),e}return Object(f.a)(t,e),Object(u.a)(t,[{key:"switchTabs",value:function(e){var t="string"===typeof e?e:e.target.id;t&&this.state.tab!==t&&this.setState({tab:t})}},{key:"selectGoalCard",value:function(e,t){var a=h.a.find(y.GOAL_CARDS,function(t){return t.number===+e}),n=R({},this.state.goals,Object(c.a)({},t,a)),r=Object.values(n).reduce(function(e,t){return null!==t&&e},!0),o=R({},this.state.goalsType,Object(c.a)({},t,a.type));this.setState({goals:n,goalsType:o,isGoalsReady:r})}},{key:"selectRandomGoalCard",value:function(e){for(var t=Object.values(R({},this.state.goalsType,Object(c.a)({},e,null))).reduce(function(e,t){return t&&(e[t]=!0),e},{}),a=null;!a;)t[(a=y.GOAL_CARDS[Math.floor(Math.random()*y.GOAL_CARDS.length)]).type]&&(a=null);this.selectGoalCard(a.number,e)}},{key:"setup",value:function(){this.deck=Object(l.a)(y.EXPLORE_CARDS),this.ambush=Object(l.a)(y.AMBUSH_CARDS),this.ambush=this.shuffleDeck(this.ambush),this.seasons=Object(l.a)(y.SEASON_CARDS)}},{key:"startSeason",value:function(){this.round+=1,this.deckIndex=0,this.deck.push(this.ambush.pop()),this.deck=this.shuffleDeck(this.deck),this.currentSeason=R({},y.SEASON_CARDS[this.round])}},{key:"nextTurn",value:function(){this.deckIndex+1>=this.currentSeason.duration?this.scorePhase():this.explorePhase()}},{key:"explorePhase",value:function(){this.deckIndex+=1,"ruin"===this.deck[this.deckIndex].type&&this.explorePhase()}},{key:"scorePhase",value:function(){}},{key:"shuffleDeck",value:function(e){return Object(l.a)(e.sort(function(){return Math.random()-.5}))}},{key:"render",value:function(){return console.log(this.state),r.a.createElement(g,{menuAction:this.switchTabs},"goals"===this.state.tab&&r.a.createElement(G,{selectGoalCard:this.selectGoalCard,selectRandomGoalCard:this.selectRandomGoalCard,state:this.state,switchTabs:this.switchTabs}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[13,1,2]]]);
//# sourceMappingURL=main.3665cbe4.chunk.js.map